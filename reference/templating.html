<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Templating &mdash; Pharaoh 0.9.4.dev5+gb54425102 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx_rtd_theme_overrides.css?v=6ccba6a1" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b1c8eef7"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="api.html" />
    <link rel="prev" title="Building" href="building.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #ededed" >

          
          
          <a href="../index.html">
            
              <img src="../_static/icon.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                Pharaoh v0.9.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#working-principle">Working Principle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#installation-via-pip">Installation via Pip</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#create-a-virtual-environment">Create a virtual environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#install">Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation.html#extras">Extras</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#preface">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#project-generation">Project Generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#update-settings">Update Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#manage-components">Manage Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#manage-asset-scripts">Manage Asset Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user_guide.html#modify-templates">Modify Templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../template_designer_guide.html">Template Designer Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="project_structure.html">Project Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="settings.html#default-settings">Default Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#custom-settings">Custom Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#accessing-settings">Accessing Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html#custom-resolvers">Custom Resolvers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="components.html">Components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="components.html#what-s-a-component">What’s a Component?</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#resources">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#templates">Templates</a></li>
<li class="toctree-l3"><a class="reference internal" href="components.html#managing-components">Managing Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="components.html#adding-components">Adding Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#updating-components">Updating Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#removing-components">Removing Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="components.html#finding-components">Finding Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="components.html#built-in-templates">Built-In Templates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="assets.html">Assets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="assets.html#what-s-an-asset">What’s an Asset?</a></li>
<li class="toctree-l3"><a class="reference internal" href="assets.html#executing-asset-generation">Executing Asset Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="assets.html#debugging-asset-scripts">Debugging Asset Scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="assets.html#implementing-asset-scripts">Implementing Asset Scripts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="assets.html#metadata-stack">Metadata Stack</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#manually-registering-assets">Manually Registering Assets</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#catching-errors">Catching Errors</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#patched-frameworks">Patched Frameworks</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#force-static-exports">Force Static Exports</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#matlab-integration">Matlab Integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="assets.html#asset-lookup">Asset Lookup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="assets.html#asset-finder">Asset Finder</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#manual-include">Manual Include</a></li>
<li class="toctree-l4"><a class="reference internal" href="assets.html#grouping-assets-by-metadata">Grouping Assets By Metadata</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="directive.html">Pharaoh Directive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="directive.html#directive-options">Directive Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="directive.html#asset-templates">Asset Templates</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="building.html">Building</a><ul>
<li class="toctree-l3"><a class="reference internal" href="building.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="building.html#build-api">Build API</a></li>
<li class="toctree-l3"><a class="reference internal" href="building.html#archiving">Archiving</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Templating</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#generation-time-templating">Generation-time Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#single-file-templates">Single-file Templates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#build-time-templating">Build-time Templating</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#template-inheritance">Template Inheritance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rendering-context">Rendering Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extending-template-syntax">Extending Template Syntax</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.html#pharaoh-api-module">Pharaoh API Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.api.get_project"><code class="docutils literal notranslate"><span class="pre">get_project()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject"><code class="docutils literal notranslate"><span class="pre">PharaohProject</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.PROJECT_SETTINGS_YAML"><code class="docutils literal notranslate"><span class="pre">PROJECT_SETTINGS_YAML</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.__init__"><code class="docutils literal notranslate"><span class="pre">__init__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.add_component"><code class="docutils literal notranslate"><span class="pre">add_component()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.add_template_to_component"><code class="docutils literal notranslate"><span class="pre">add_template_to_component()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.archive_report"><code class="docutils literal notranslate"><span class="pre">archive_report()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.asset_build_dir"><code class="docutils literal notranslate"><span class="pre">asset_build_dir</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.asset_finder"><code class="docutils literal notranslate"><span class="pre">asset_finder</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.build_report"><code class="docutils literal notranslate"><span class="pre">build_report()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.filter_components"><code class="docutils literal notranslate"><span class="pre">filter_components()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.find_components"><code class="docutils literal notranslate"><span class="pre">find_components()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.generate_assets"><code class="docutils literal notranslate"><span class="pre">generate_assets()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.get_default_sphinx_configuration"><code class="docutils literal notranslate"><span class="pre">get_default_sphinx_configuration()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.get_resource"><code class="docutils literal notranslate"><span class="pre">get_resource()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.get_setting"><code class="docutils literal notranslate"><span class="pre">get_setting()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.get_settings"><code class="docutils literal notranslate"><span class="pre">get_settings()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.iter_components"><code class="docutils literal notranslate"><span class="pre">iter_components()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.iter_resources"><code class="docutils literal notranslate"><span class="pre">iter_resources()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.load_settings"><code class="docutils literal notranslate"><span class="pre">load_settings()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.open_report"><code class="docutils literal notranslate"><span class="pre">open_report()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.project_root"><code class="docutils literal notranslate"><span class="pre">project_root</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.put_setting"><code class="docutils literal notranslate"><span class="pre">put_setting()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.remove_component"><code class="docutils literal notranslate"><span class="pre">remove_component()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.save_settings"><code class="docutils literal notranslate"><span class="pre">save_settings()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.settings_file"><code class="docutils literal notranslate"><span class="pre">settings_file</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.sphinx_report_build"><code class="docutils literal notranslate"><span class="pre">sphinx_report_build</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.sphinx_report_project"><code class="docutils literal notranslate"><span class="pre">sphinx_report_project</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.sphinx_report_project_components"><code class="docutils literal notranslate"><span class="pre">sphinx_report_project_components</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.project.PharaohProject.update_resource"><code class="docutils literal notranslate"><span class="pre">update_resource()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api.html#asset-generation-api-module">Asset Generation API Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.catch_exceptions"><code class="docutils literal notranslate"><span class="pre">catch_exceptions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.find_components"><code class="docutils literal notranslate"><span class="pre">find_components()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.get_asset_finder"><code class="docutils literal notranslate"><span class="pre">get_asset_finder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.get_current_component"><code class="docutils literal notranslate"><span class="pre">get_current_component()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.get_resource"><code class="docutils literal notranslate"><span class="pre">get_resource()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.metadata_context"><code class="docutils literal notranslate"><span class="pre">metadata_context()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.register_asset"><code class="docutils literal notranslate"><span class="pre">register_asset()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.register_templating_context"><code class="docutils literal notranslate"><span class="pre">register_templating_context()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder"><code class="docutils literal notranslate"><span class="pre">AssetFinder</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder.__init__"><code class="docutils literal notranslate"><span class="pre">__init__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder.discover_assets"><code class="docutils literal notranslate"><span class="pre">discover_assets()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder.get_asset_by_id"><code class="docutils literal notranslate"><span class="pre">get_asset_by_id()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder.iter_assets"><code class="docutils literal notranslate"><span class="pre">iter_assets()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder.search_assets"><code class="docutils literal notranslate"><span class="pre">search_assets()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder.sort_assets"><code class="docutils literal notranslate"><span class="pre">sort_assets()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.Asset"><code class="docutils literal notranslate"><span class="pre">Asset</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.Asset.copy_to"><code class="docutils literal notranslate"><span class="pre">copy_to()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.Asset.read_bytes"><code class="docutils literal notranslate"><span class="pre">read_bytes()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.Asset.read_json"><code class="docutils literal notranslate"><span class="pre">read_json()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.Asset.read_text"><code class="docutils literal notranslate"><span class="pre">read_text()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.Asset.read_yaml"><code class="docutils literal notranslate"><span class="pre">read_yaml()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.finder.asset_groupby"><code class="docutils literal notranslate"><span class="pre">asset_groupby()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api.html#resources">Resources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.FileResource"><code class="docutils literal notranslate"><span class="pre">FileResource</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.FileResource.first_match"><code class="docutils literal notranslate"><span class="pre">first_match()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.FileResource.get_files"><code class="docutils literal notranslate"><span class="pre">get_files()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.FileResource.get_match"><code class="docutils literal notranslate"><span class="pre">get_match()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.FileResource.last_match"><code class="docutils literal notranslate"><span class="pre">last_match()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.FileResource.locate"><code class="docutils literal notranslate"><span class="pre">locate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.CustomResource"><code class="docutils literal notranslate"><span class="pre">CustomResource</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.Resource"><code class="docutils literal notranslate"><span class="pre">Resource</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.LocalResource"><code class="docutils literal notranslate"><span class="pre">LocalResource</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.LocalResource.locate"><code class="docutils literal notranslate"><span class="pre">locate()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.TransformedResource"><code class="docutils literal notranslate"><span class="pre">TransformedResource</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.resource.TransformedResource.transform"><code class="docutils literal notranslate"><span class="pre">transform()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api.html#matlab-integration-api">Matlab Integration API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab"><code class="docutils literal notranslate"><span class="pre">Matlab</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.__enter__"><code class="docutils literal notranslate"><span class="pre">__enter__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.__exit__"><code class="docutils literal notranslate"><span class="pre">__exit__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.__init__"><code class="docutils literal notranslate"><span class="pre">__init__()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.connect"><code class="docutils literal notranslate"><span class="pre">connect()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.eng"><code class="docutils literal notranslate"><span class="pre">eng</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.execute_function"><code class="docutils literal notranslate"><span class="pre">execute_function()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.execute_script"><code class="docutils literal notranslate"><span class="pre">execute_script()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="api.html#pharaoh.assetlib.api.Matlab.show_gui"><code class="docutils literal notranslate"><span class="pre">show_gui()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api.html#templating-builtins">Templating Builtins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.html#jinja2-builtins">Jinja2 Builtins</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.html#pharaoh-extension">Pharaoh Extension</a><ul>
<li class="toctree-l5"><a class="reference internal" href="api.html#globals">Globals</a><ul>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.assert_true"><code class="docutils literal notranslate"><span class="pre">assert_true()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.fglob"><code class="docutils literal notranslate"><span class="pre">fglob()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.hrule"><code class="docutils literal notranslate"><span class="pre">hrule()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.raise_helper"><code class="docutils literal notranslate"><span class="pre">raise_helper()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.heading"><code class="docutils literal notranslate"><span class="pre">heading()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.rand_id"><code class="docutils literal notranslate"><span class="pre">rand_id()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_globals.read_text"><code class="docutils literal notranslate"><span class="pre">read_text()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="api.html#filters">Filters</a><ul>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.hasattr_"><code class="docutils literal notranslate"><span class="pre">hasattr_()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.required"><code class="docutils literal notranslate"><span class="pre">required()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.rep"><code class="docutils literal notranslate"><span class="pre">rep()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.or_default"><code class="docutils literal notranslate"><span class="pre">or_default()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.oc_resolve"><code class="docutils literal notranslate"><span class="pre">oc_resolve()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.oc_get"><code class="docutils literal notranslate"><span class="pre">oc_get()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.exists"><code class="docutils literal notranslate"><span class="pre">exists()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.to_path"><code class="docutils literal notranslate"><span class="pre">to_path()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.md2html"><code class="docutils literal notranslate"><span class="pre">md2html()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="api.html#pharaoh.templating.second_level.env_filters.rsub"><code class="docutils literal notranslate"><span class="pre">rsub()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api.html#ansible-filters">Ansible Filters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api.html#plugin-api">Plugin API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">CLI Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cli.html#preface">Preface</a></li>
<li class="toctree-l3"><a class="reference internal" href="cli.html#commands">Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cli.html#new">New</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#add">Add</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#update-resource">Update-resource</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#add-template">Add-template</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#remove">Remove</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#env">Env</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#generate">Generate</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#build">Build</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#show-report">Show-report</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#archive">Archive</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#info">Info</a></li>
<li class="toctree-l4"><a class="reference internal" href="cli.html#print-plugins">Print-plugins</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../plugins/plugin.html">Plugin Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../plugins/plugin.html#module-pharaoh.plugins.spec">Hookspec Markers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_add_cli_commands"><code class="docutils literal notranslate"><span class="pre">pharaoh_add_cli_commands()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_asset_gen_prepare_resources"><code class="docutils literal notranslate"><span class="pre">pharaoh_asset_gen_prepare_resources()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_asset_gen_started"><code class="docutils literal notranslate"><span class="pre">pharaoh_asset_gen_started()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_build_finished"><code class="docutils literal notranslate"><span class="pre">pharaoh_build_finished()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_build_started"><code class="docutils literal notranslate"><span class="pre">pharaoh_build_started()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_collect_default_settings"><code class="docutils literal notranslate"><span class="pre">pharaoh_collect_default_settings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_collect_l1_templates"><code class="docutils literal notranslate"><span class="pre">pharaoh_collect_l1_templates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_collect_l2_templates"><code class="docutils literal notranslate"><span class="pre">pharaoh_collect_l2_templates()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_collect_resource_types"><code class="docutils literal notranslate"><span class="pre">pharaoh_collect_resource_types()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_configure_sphinx"><code class="docutils literal notranslate"><span class="pre">pharaoh_configure_sphinx()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_find_asset_render_template"><code class="docutils literal notranslate"><span class="pre">pharaoh_find_asset_render_template()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_get_asset_render_template_mappings"><code class="docutils literal notranslate"><span class="pre">pharaoh_get_asset_render_template_mappings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_modify_gitignore"><code class="docutils literal notranslate"><span class="pre">pharaoh_modify_gitignore()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_project_created"><code class="docutils literal notranslate"><span class="pre">pharaoh_project_created()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../plugins/plugin.html#pharaoh.plugins.spec.pharaoh_sphinx_app_inited"><code class="docutils literal notranslate"><span class="pre">pharaoh_sphinx_app_inited()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/demo_reports.html">Demo Reports</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/demo_reports.html#html">HTML</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/demo_reports.html#measurement-report">Measurement Report</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/demo_reports.html#confluence">Confluence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/demo_reports.html#trend-report">Trend Report</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/asset_scripts.html">Asset Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contact.html#help">Help!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contact.html#bug-reports">Bug reports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Release History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id1">0.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id2">0.9.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id3">0.9.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id4">0.9.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id5">0.8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id6">0.8.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id7">0.8.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id8">0.8.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id9">0.7.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id10">0.7.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id11">0.7.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id12">0.7.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id13">0.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id14">0.6.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id15">0.6.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog.html#id16">0.6.0</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#getting-started">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#running-from-source-tree">Running from source tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#running-tests">Running tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#running-linters-and-code-formatters">Running linters and code formatters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#code-style-guide">Code style guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#building-documentation">Building documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dev.html#contributing">Contributing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#submitting-pull-requests">Submitting pull requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#automated-testing">Automated testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#changelog-entries">Changelog entries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../dev.html#contents-of-a-changelog-entry">Contents of a changelog entry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../dev.html#creating-a-new-release">Creating a new release</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../dev.html#current-maintainers">Current maintainers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #ededed" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pharaoh</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Reference</a></li>
      <li class="breadcrumb-item active">Templating</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/templating.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="templating">
<h1>Templating<a class="headerlink" href="#templating" title="Link to this heading"></a></h1>
<p>As you may have noticed, templating is a dominating core functionality of Pharaoh.</p>
<p>The foundation for all templating in Pharaoh is <strong>reStructuredText</strong> and <strong>Jinja</strong>.
You might make yourself familiar once you encounter related questions in the rest of the section.</p>
<blockquote>
<div><p><strong>reStructuredText</strong></p>
<blockquote>
<div><p>reStructuredText is an easy-to-read, what-you-see-is-what-you-get plaintext markup syntax and parser system.
It is useful for in-line program documentation (such as Python docstrings), for quickly creating simple web pages,
and for standalone documents.</p>
<p>reStructuredText is designed for extensibility for specific application domains.</p>
<p>The primary goal of reStructuredText is to define and implement a markup syntax for use in Python docstrings
and other documentation domains, that is readable and simple, yet powerful enough for non-trivial use.</p>
<p>Refer to the <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/index.html">reStructuredText Reference</a>
for learning the basics.</p>
</div></blockquote>
<p><strong>Jinja</strong></p>
<blockquote>
<div><p>Jinja is a fast, expressive and extensible templating engine.</p>
<p>A Jinja template is simply a text file.
Jinja can generate any text-based format (HTML, XML, CSV, LaTeX, etc.), in Pharaoh’s case mostly rST files.
A Jinja template does not need to have a specific extension: .html, .xml, or any other extension is just fine.</p>
<p>A template contains <strong>variables</strong> and/or <strong>expressions</strong>, which get replaced with values when a
template is <em>rendered</em>; and <strong>tags</strong>, which control the logic of the template.
The template syntax is heavily inspired by Python.</p>
<p>Refer to the <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/templates/">Jinja Template Reference</a>
for learning the basics.</p>
<p>See <a class="reference internal" href="api.html#templating-builtins"><span class="std std-ref">Templating Builtins</span></a> for a complete list of globals, filters and
tests you can use in your templates.</p>
</div></blockquote>
</div></blockquote>
<p>Like described in the <a class="reference internal" href="../intro.html#working-principle"><span class="std std-ref">introduction</span></a>, Pharaoh’s workflow distinguishes
two major stages where template rendering is performed.
Please refer to the corresponding sections by following the links:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#generation-time-templating"><span class="std std-ref">Generation-time Templating</span></a></p></li>
<li><p><a class="reference internal" href="#build-time-templating"><span class="std std-ref">Build-time Templating</span></a></p></li>
</ul>
</div></blockquote>
<section id="generation-time-templating">
<h2>Generation-time Templating<a class="headerlink" href="#generation-time-templating" title="Link to this heading"></a></h2>
<p>Alias: <strong>first-level templating</strong></p>
<p>Generation-time templating is used while generating a new Pharaoh project or adding new components to an
existing project, and is inspired by <a class="reference external" href="https://copier.readthedocs.io/en/stable/">copier</a>,
a <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/intro/">Jinja</a>-based library for rendering project templates.</p>
<section id="basics">
<h3>Basics<a class="headerlink" href="#basics" title="Link to this heading"></a></h3>
<p>In Pharaoh, we need first-level templates for two different purposes:</p>
<blockquote>
<div><p><strong>Project Templates</strong></p>
<blockquote>
<div><p>These are the templates that may be specified when creating a new Pharaoh project.
The composition of all templates in this case must always generate a Sphinx project that contains at
least a <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> and an index source file, like <code class="docutils literal notranslate"><span class="pre">index.rst</span></code>.</p>
<p>If you’re interested in maintaining your own project template please contact us for support,
but for most use cases our default template <code class="docutils literal notranslate"><span class="pre">pharaoh.default_project</span></code> should be flexible enough.</p>
<p>It is also possible to extend or overwrite parts of the default project, so please also get in touch
if you try to do so.</p>
</div></blockquote>
<p><strong>Component Templates</strong></p>
<blockquote>
<div><p>Component templates are used to render new components into a Pharaoh project.</p>
<p>The minimal requirement is basically an <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> file that can be included by the project
(at least what our default Pharaoh template concerns) or a
<a class="reference internal" href="#single-file-templates"><span class="std std-ref">Template File</span></a></p>
</div></blockquote>
</div></blockquote>
<p>Like described <a class="reference internal" href="components.html#templates"><span class="std std-ref">here</span></a>, templates can come in different styles.</p>
<p>While for <strong>Project Templates</strong> only <em>registered templates</em> and <em>template directories</em> are allowed/useful,
<strong>Component Templates</strong> can, in addition to it, be generated using
<a class="reference internal" href="#single-file-templates"><span class="std std-ref">Template Files/Single-file templates</span></a>.</p>
<p>Let’s have a look on how a component template directory may look like:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>📁 my_template
├── 📄 index.rst.jinja2            # reST file with templated content
├── 📄 test_context.py.jinja2      # Python file with templated content
├── 📁 asset_scripts               # folder copied as-is
│   └── 📄 default_plots.py        # file copied as-is
└── 📁 [[foo]]                     # folder with a templated name
    └── 📄 [[ bar ]]_script.py     # file with a templated name
</pre></div>
</div>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">📁</span> <span class="pre">my_template</span></code></p>
<p>The top-level directory. The name is arbitrary, it will be replaced by the name of the component during copying.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">📁</span> <span class="pre">asset_scripts</span></code> and <code class="docutils literal notranslate"><span class="pre">📄</span> <span class="pre">default_plots.py</span></code> are copied as-is without modifications.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">📄</span> <span class="pre">*.jinja</span></code></p>
<p>The content of all files with suffix <code class="docutils literal notranslate"><span class="pre">.jinja2</span></code> are rendered using Jinja.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">📁</span> <span class="pre">[[foo]]</span></code> and <code class="docutils literal notranslate"><span class="pre">📄</span> <span class="pre">[[</span> <span class="pre">bar</span> <span class="pre">]]_script.py</span></code></p>
<p>File or directory names using <code class="docutils literal notranslate"><span class="pre">[[</span> <span class="pre">&lt;context-variable&gt;</span> <span class="pre">]]</span></code> are rendered using Jinja while copying.</p>
</li>
</ul>
</div></blockquote>
<p>After rendering like this <code class="docutils literal notranslate"><span class="pre">proj.add_component(&quot;dummy&quot;,</span> <span class="pre">[&quot;.../my_template&quot;],</span> <span class="pre">render_context={&quot;foo&quot;:</span> <span class="pre">&quot;a&quot;,</span> <span class="pre">&quot;bar&quot;:</span> <span class="pre">&quot;b&quot;}</span></code>
a file structure like this is created:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>📁 dummy
├── 📄 index.rst
├── 📄 test_context.py
├── 📁 asset_scripts
│   └── 📄 default_plots.py
└── 📁 a
    └── 📄 b_script.py
</pre></div>
</div>
</div></blockquote>
<p>You see the <code class="docutils literal notranslate"><span class="pre">render_context</span></code> passed to
<a class="reference internal" href="api.html#pharaoh.project.PharaohProject.add_component" title="pharaoh.project.PharaohProject.add_component"><code class="xref py py-func docutils literal notranslate"><span class="pre">PharaohProject.add_component()</span></code></a>
or <code class="docutils literal notranslate"><span class="pre">template_context</span></code> passed to <a class="reference internal" href="api.html#pharaoh.project.PharaohProject.__init__" title="pharaoh.project.PharaohProject.__init__"><code class="xref py py-func docutils literal notranslate"><span class="pre">PharaohProject()</span></code></a> are used to
render file- or folder name as well as file content.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>For Generation-time Templating, Jinja is configured to use brackets for blocks <code class="docutils literal notranslate"><span class="pre">[%</span> <span class="pre">%]</span></code> and statements <code class="docutils literal notranslate"><span class="pre">[[</span> <span class="pre">]]</span></code>
to not interfere with <a class="reference internal" href="#build-time-templating"><span class="std std-ref">Build-time Templating</span></a>, where Jinja will render the same
files (only reST) again before passing it to
Sphinx using curly-braces for blocks <code class="docutils literal notranslate"><span class="pre">{%</span> <span class="pre">%}</span></code> and statements <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">}}</span></code>.</p>
<p>So imagine an extreme case of a file <code class="docutils literal notranslate"><span class="pre">index.rst.jinja2</span></code> with following content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span> <span class="n">h1</span><span class="p">(</span><span class="s2">&quot;[[heading_prefix]]</span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">|</span><span class="nb">format</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">component_name</span><span class="p">))</span> <span class="p">}}</span>
</pre></div>
</div>
<p>After <a class="reference internal" href="#generation-time-templating"><span class="std std-ref">Generation-time Templating</span></a>
(component named <code class="docutils literal notranslate"><span class="pre">Test_1</span></code> with render context <code class="docutils literal notranslate"><span class="pre">heading_prefix=&quot;PREFIX</span> <span class="pre">-</span> <span class="pre">&quot;</span></code>)
it results in a file <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> with content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span> <span class="n">h1</span><span class="p">(</span><span class="s2">&quot;PREFIX - </span><span class="si">%s</span><span class="s2">&quot;</span><span class="o">|</span><span class="nb">format</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">project</span><span class="o">.</span><span class="n">component_name</span><span class="p">))</span> <span class="p">}}</span>
</pre></div>
</div>
<p>After <a class="reference internal" href="#build-time-templating"><span class="std std-ref">Build-time Templating</span></a> it results in content:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PREFIX</span> <span class="o">-</span> <span class="n">Test_1</span>
<span class="c1">###############</span>
</pre></div>
</div>
</div>
</section>
<section id="single-file-templates">
<h3>Single-file Templates<a class="headerlink" href="#single-file-templates" title="Link to this heading"></a></h3>
<p>Single-file templates, or also called template files, are smallest and most compact form of a template, but also
limited.</p>
<p>They are mainly designed to deliver template code <strong>and</strong> asset script in a single file and contribute content to
an existing component.</p>
<p>Template files are Python files with suffix <code class="docutils literal notranslate"><span class="pre">.pharaoh.py</span></code> those Python code creates <a class="reference internal" href="assets.html#assets"><span class="std std-ref">assets</span></a> and
those module level docstring represents the reST content.</p>
<p>Here an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">{{ heading(&quot;My Plots&quot;, 2) }}</span>

<span class="sd">.. pharaoh-asset:: label == &quot;my_plot&quot;</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pharaoh.assetlib.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">metadata_context</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.express</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">px</span>


<span class="n">df</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;species&quot;</span><span class="p">,</span>
    <span class="n">symbol</span><span class="o">=</span><span class="s2">&quot;species&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;A title&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">with</span> <span class="n">metadata_context</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;my_plot&quot;</span><span class="p">):</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">write_html</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="s2">&quot;iris_scatter.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This file will be internally converted to a template directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_template</span><span class="o">.</span><span class="n">pharaoh</span><span class="o">.</span><span class="n">py</span> <span class="o">-&gt;</span> <span class="n">index_my_template</span><span class="o">.</span><span class="n">rst</span>
                          <span class="n">asset_scripts</span><span class="o">/</span><span class="n">my_template</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>In order to automatically include all <code class="docutils literal notranslate"><span class="pre">index_*.rst</span></code> files in your components index file <code class="docutils literal notranslate"><span class="pre">index.rst</span></code>, you
must add following code:</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">index_rst</span> <span class="ow">in</span> <span class="n">fglob</span><span class="p">(</span><span class="s2">&quot;index_*.rst&quot;</span><span class="p">)</span> <span class="o">%</span><span class="p">}</span>
<span class="o">..</span> <span class="n">include</span><span class="p">::</span> <span class="p">{{</span> <span class="n">index_rst</span> <span class="p">}}</span>

<span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>
<section id="build-time-templating">
<h2>Build-time Templating<a class="headerlink" href="#build-time-templating" title="Link to this heading"></a></h2>
<p>Build-time templating is the step where Pharaoh hooks into Sphinx’s build process and renders each documentation
source file before it gets consumed by Sphinx.</p>
<p>For example the source file <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> will be read in, rendered, and finally passed to Sphinx for
further processing. Additionally for debugging purposes the output from rendering will be stored in the same
directory as the source file with a <code class="docutils literal notranslate"><span class="pre">.rendered</span></code> suffix (e.g. <code class="docutils literal notranslate"><span class="pre">index.rst.rendered</span></code>),
in case the Sphinx build raises errors.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-fade-in-slide-down">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Show Example</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
Source File</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{{</span> <span class="n">heading</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">local</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">test_name</span><span class="o">|</span><span class="n">req</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="p">}}</span>

<span class="p">{{</span> <span class="n">h2</span><span class="p">(</span><span class="s2">&quot;Some plots&quot;</span><span class="p">)</span> <span class="p">}}</span>
</pre></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
Rendered Source File</label><div class="sd-tab-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Dummy</span> <span class="mi">1</span>
<span class="c1">#######</span>

<span class="n">Some</span> <span class="n">plots</span>
<span class="o">**********</span>
</pre></div>
</div>
</div>
</div>
</div>
</details><p>Like mentionen in the <a class="reference internal" href="../intro.html#introduction"><span class="std std-ref">Introduction</span></a>, the main user groups of Pharaoh are
<strong>Template Designers</strong> and <strong>End-Users</strong>.</p>
<p><strong>Template Designers</strong> are responsible for creating templates for the <strong>End-Users</strong> of Pharaoh.
In order to make report generation as easy as possible for the end users, following template design guidelines
have to be considered:</p>
<ul>
<li><p><strong>Tradeoff between flexibility and complexity for end-users</strong></p>
<p>If the designer hides much of the template code (e.g. through <a class="reference internal" href="#template-inheritance"><span class="std std-ref">Template Inheritance</span></a>)
and leaves the end user with just template extensions and configurations,
the reports will gain a lot of maintainability (report can be just re-build with updated base templates).</p>
<p>If the designer just provides component templates with less abstraction, a lot of template code will
reside in the user’s report projects. This template code can only be updated by re-generating the
report project with updated component templates.</p>
<p>So the general rule-of-thumb is to put all static template content or content that just needs configuration
in a base template and let the user just overwrite certain sections that are meant for it.</p>
</li>
<li><p><strong>Provide an abstraction library</strong></p>
<p>Provide a small Python library to further standardize and reduce the amount of code users have to write in
their asset scripts.</p>
</li>
<li><p>Build smaller modular templates that can be composed together</p></li>
</ul>
<section id="template-inheritance">
<h3>Template Inheritance<a class="headerlink" href="#template-inheritance" title="Link to this heading"></a></h3>
<p>Pharaoh templates support <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/templates/#template-inheritance">Template Inheritance through Jinja</a>,
which is one of the most powerful and useful features of any template engine.
It means one template can inherit from another template.</p>
<p>Generally, many report pages require the same or a similar layout and content for different pages,
so we use template inheritance to not repeat the same code in each template.</p>
<p>A base template contains the basic layout which is common to all the other templates,
and it is from this base template we extend or derive the layout for other pages.</p>
<p>In order to use inherit from base templates, those base templates must be discoverable via lookup paths.
Those lookup paths can be declared through:</p>
<blockquote>
<div><ul>
<li><p><a class="reference internal" href="../plugins/plugin.html#plugin-architecture"><span class="std std-ref">Pharaoh plugins</span></a></p></li>
<li><p>a Sphinx configuration variable <code class="docutils literal notranslate"><span class="pre">pharaoh_jinja_templates</span></code> in <code class="docutils literal notranslate"><span class="pre">report-project/conf.py</span></code>.</p>
<p>This is a list of absolute or relative (to conf.py parent directory) lookup paths for base templates.</p>
<p>Per default this is set to <code class="docutils literal notranslate"><span class="pre">[&quot;user_templates&quot;]</span></code>, which is an empty directory created by the default
Pharaoh Sphinx project template.</p>
<p>Base template inside those lookup paths can be referenced via their relative path to the lookup directory,
so if we take this example:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>...
📁 user_templates
├── 📄 baseA.rst
└── 📁 others
    └── 📄 baseB.rst
</pre></div>
</div>
</div></blockquote>
<p>Then your templates could inherit from those templates like this:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{% extends &quot;baseA.rst&quot; %}
{% block xyz %}
{# Insert block xyz content from baseA.rst #}
{{ super() }}
Some additional content
{% endblock %}
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{% extends &quot;others/baseB.rst&quot; %}
{% block xyz %}
{# Overwrites block xyz content from others/baseB.rst #}
Some additional content
{% endblock %}
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Example</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" for="sd-tab-item-2">
Base Template <code class="docutils literal notranslate"><span class="pre">base.rst</span></code></label><div class="sd-tab-content docutils">
<p class="sd-card-text">The following base template defines an immutable page title and three sections with
immutable titles and a block declaration:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{{ h1(&quot;Standardized Report Title&quot;) }}

{{ h2(&quot;Prologue&quot;) }}
{% block prologue %}
This is a default content that may be overwritten by the child template
{% endblock %}

{{ h2(&quot;Test Description&quot;) }}
{% block test_description %}
{% endblock %}

{{ h2(&quot;Plots&quot;) }}
{% block plots %}
{% endblock %}
</pre></div>
</div>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" for="sd-tab-item-3">
Child Template <code class="docutils literal notranslate"><span class="pre">index.rst</span></code></label><div class="sd-tab-content docutils">
<p class="sd-card-text">The following child template inherits from <code class="docutils literal notranslate"><span class="pre">base.rst</span></code> and overwrites two of the the declared blocks with
custom content, and extends block <code class="docutils literal notranslate"><span class="pre">prologue</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{% extends &quot;base.rst&quot; %}

{% block prologue %}
{{ super() }}

Additional content...
{% endblock %}

{% block test_description %}
Some descriptive text...
{% endblock %}

{% block plots %}
.. pharaoh-asset:: plot_name == &quot;bla&quot;

{% endblock %}
</pre></div>
</div>
</div>
</div>
</div>
</details></section>
<section id="rendering-context">
<h3>Rendering Context<a class="headerlink" href="#rendering-context" title="Link to this heading"></a></h3>
<p>During build-time templating you have access to a variety of context variables via Jinja variable <code class="docutils literal notranslate"><span class="pre">ctx</span></code>.
<code class="docutils literal notranslate"><span class="pre">ctx</span></code> is a nested dictionary that allows dotted-access (<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">ctx.project.component_name</span> <span class="pre">}}</span></code> or
<code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">ctx[&quot;project&quot;][&quot;component_name&quot;]</span> <span class="pre">}}</span></code>) to all static or dynamic rendering context defined by Pharaoh or the user.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span>                             <span class="c1"># The root variable for accessing rendering context</span>
   <span class="o">.</span><span class="n">project</span>                     <span class="c1"># Project related context - set by Pharaoh</span>
           <span class="o">.</span><span class="n">instance</span>            <span class="c1"># The Pharaoh project instance itself</span>
           <span class="o">.</span><span class="n">component_name</span>      <span class="c1"># The name of the current component the template resides in</span>
   <span class="o">.</span><span class="n">config</span>                      <span class="c1"># The content of Sphinx&#39;s `conf.py`, e.g. `ctx.config.copyright`</span>
   <span class="o">.</span><span class="n">user</span>                        <span class="c1"># User defined context of dict variable `pharaoh_jinja_context` in `conf.py`</span>
   <span class="o">.</span><span class="n">local</span>                       <span class="c1"># Component&#39;s local static &amp; dynamically generated context - see below</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ctx.local</span></code> is a special local context that may be different for each component or even each source file
(but that’s rarely a use-case) of a component.
It is composed by reading in so-called “local context files”, that reside next to the file that is
currently rendered.
Those files can be:</p>
<blockquote>
<div><ul>
<li><p>YAML files with the naming scheme <code class="docutils literal notranslate"><span class="pre">&lt;contextname&gt;_context.yaml</span></code>.
So the content of a YAML file called <code class="docutils literal notranslate"><span class="pre">default_context.yaml</span></code> would be available via <code class="docutils literal notranslate"><span class="pre">ctx.local.default</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>YAML files are loaded using the <a class="reference external" href="https://omegaconf.readthedocs.io/">OmegaConf library</a>.</p>
</div>
</li>
<li><p>Python files with the naming scheme <code class="docutils literal notranslate"><span class="pre">&lt;contextname&gt;_context.py</span></code>.</p>
<p>Those Python scripts are executed and must create a dict variable called <code class="docutils literal notranslate"><span class="pre">context</span></code>.</p>
<p>Since asset generation has already been executed, these scripts can also access the
<a class="reference internal" href="api.html#pharaoh.assetlib.finder.AssetFinder" title="pharaoh.assetlib.finder.AssetFinder"><code class="xref py py-class docutils literal notranslate"><span class="pre">AssetFinder</span></code></a> instance to find and read assets
to extend the render context.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 sd-fade-in-slide-down">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Show Example <code class="docutils literal notranslate"><span class="pre">test_context.py</span></code></span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This script searches all JSON assets that have &quot;context_name&quot; metadata set,</span>
<span class="sd">loads them and exports their content as context for rendering via</span>
<span class="sd">variable `ctx.local.&lt;context_name&gt;`</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pharaoh.assetlib.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_asset_finder</span><span class="p">,</span> <span class="n">get_current_component</span>

<span class="n">finder</span> <span class="o">=</span> <span class="n">get_asset_finder</span><span class="p">()</span>
<span class="n">component_name</span> <span class="o">=</span> <span class="n">get_current_component</span><span class="p">()</span>

<span class="c1"># Find all assets of type JSON that have a &quot;context_name&quot; meta data set.</span>
<span class="c1"># Collect the content of those files in a dict using the &quot;context_name&quot; meta data as key.</span>
<span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">asset</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">context_name</span><span class="p">:</span> <span class="n">asset</span><span class="o">.</span><span class="n">read_json</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">asset</span> <span class="ow">in</span> <span class="n">finder</span><span class="o">.</span><span class="n">search_assets</span><span class="p">(</span>
        <span class="s1">&#39;asset.suffix == &quot;.json&quot; and &quot;context_name&quot; in asset.context&#39;</span><span class="p">,</span>
        <span class="p">[</span><span class="n">component_name</span><span class="p">]</span>
    <span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</details></li>
<li><p>Data context that is registered via the <a class="reference internal" href="api.html#pharaoh.assetlib.api.register_templating_context" title="pharaoh.assetlib.api.register_templating_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">pharaoh.assetlib.api.register_templating_context()</span></code></a> function.</p></li>
</ul>
</div></blockquote>
</section>
<section id="extending-template-syntax">
<h3>Extending Template Syntax<a class="headerlink" href="#extending-template-syntax" title="Link to this heading"></a></h3>
<p>See <a class="reference internal" href="api.html#templating-builtins"><span class="std std-ref">Templating Builtins</span></a> for a complete list of builtin globals, filters and
tests you can use in your templates.</p>
<p>If you like to add you own, Pharaoh provides some entrypoints in <code class="docutils literal notranslate"><span class="pre">report-project/conf.py</span></code>:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">pharaoh_jinja_filters</span></code></dt><dd><p>A dict that maps names to filter functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pharaoh_jinja_filters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;angry&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="n">text</span> <span class="o">+</span> <span class="s2">&quot; 😠&quot;</span>    <span class="c1"># Usage: {{ &quot;error&quot;|angry }}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pharaoh_jinja_globals</span></code></dt><dd><p>A dict that maps names to global functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pharaoh_jinja_globals</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;angry&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="n">text</span> <span class="o">+</span> <span class="s2">&quot; 😠&quot;</span>    <span class="c1"># Usage: {{ angry(&quot;error&quot;) }}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">pharaoh_jinja_tests</span></code></dt><dd><p>A dict that maps names to tests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pharaoh_jinja_tests</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;angry_text&quot;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">text</span><span class="p">:</span> <span class="s2">&quot;😠&quot;</span> <span class="ow">in</span> <span class="n">text</span>    <span class="c1"># Usage: {% if &quot;😠&quot; is angry %}Someone is angry!{% endif %}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="building.html" class="btn btn-neutral float-left" title="Building" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .
      <span class="lastupdated">Last updated on Sep 30, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>